%#####################################################################################################################
% Datei	: Solution.tex
% Autor	: Byron Worms
%#####################################################################################################################
%---------------------------------------------------------------------------------------------------------------------
% Solution approach
%---------------------------------------------------------------------------------------------------------------------
\section{Lösungsansatz}
\label{sec:solution}
Für das Verständnis grundlegender Funktionsweisen der verschiedenen Algorithmen und der Auswahl des
variierenden Bildmaterials, ist ein Basiswissen über den allgemeinen Aufbau von Bildern und deren digitale Repräsentation 
erforderlich.
\\
In Abhängigkeit des gewählten Farbmodells werden Bilder oftmals durch eine Koeffizientenmatrix von Helligkeitswerten
beschrieben~\cite{DSP97}. Im Beispiel des RGB--Farbmodells ist die finale Pixelfarbe durch drei unterschiedliche Koeffizienten der
einzelnen Farbkanäle (rot, grün und blau) definiert, wohingegen ein Graustufenbild nur einen Farbkanal besitzt.
\\
Die Konkretisierung einer gegebenen Matrix aus Koeffizienten erzeugt dabei ein digitales Bild und/oder Muster, 
das strukturell in sowohl hochfrequente als auch in niederfrequente Bereiche unterteilt ist. Gleichmäßige Unterschiede innerhalb
der Bildstruktur werden durch die niederfrequenten Anteile abgebildet, wohingegen hochfrequente Bestandteile mit ungleichmäßigen
und plötzlichen strukturellen Änderungen zum Detail des Gesamtbilds beitragen.

\subsection{Testdaten}
\label{sec:solution_testdata}
Das verwendete Bildmaterial ist in die drei unten aufgeführten Kategorien eingeteilt. Die Unterteilung des Gesamtdatensatzes
dient einer Komplexität abhängigen, verbesserten Erkenntnisgewinnung der jeweiligen Arbeitsweisen der verschiedenen eingesetzten
Algorithmen. Somit soll ein Zusammenspiel zwischen den Fehlerkennungen der Algorithmen und dem strukturellen Aufbau der
Bilder leichter detektiert werden.

\boldtext{Einfache Farben}\\
Diese Kategorie beinhaltet neun verschiedenfarbige Bilder mit den in der Tabelle~\ref{tab:solution_simplecolors_specs} stehenden
Spezifikationen. Der Farbbereich deckt dabei sowohl helle als auch dunkle Farben ab.
\begin{table}[H]
	\begin{center}
		\begin{tabular}{|l|c|}
			\mytoprule
			\centering\bfseries Eigenschaft & Wert(e)
			\\
			\hline
			\hline
			%---------------------------------------------------------------------------------------------------------------------	
			\textit{Kodierung} & JPEG, 100\% Qualität
			\\
			\hline
			%---------------------------------------------------------------------------------------------------------------------	
			\textit{Auflösung} & 600x600px
			\\																				
			%---------------------------------------------------------------------------------------------------------------------
			\mybottomrule			
		\end{tabular}
		\caption{Spezifikationen \textit{Einfache Farben} (Eigene Darstellung)}
		\label{tab:solution_simplecolors_specs}
	\end{center}
\end{table}

\boldtext{Elementare Formen}\\
Die Kategorie ist in drei unterschiedliche Gruppen mit je 54 Bildern eingeteilt, wobei die Bildmotive abhängig von der
Gruppierung variieren. Die nachfolgenden Abbildung~\ref{fig:solution_brushes} schafft einen Überblick über die verwendeten Muster
in den jeweiligen Gruppen. Die Farben der elementaren Formen sind dabei identisch zu den Farbwerten aus der Kategorie
\textit{Einfache Farben}.
\begin{figure}[H]
	\centering
	\framepicture[width=0.96\linewidth]{Pictures/simple_brushes.png}
	\caption{Gruppierung der elementaren Formen (Eigene Darstellung)}
	\label{fig:solution_brushes}
\end{figure}
\noindent
Die drei Gruppen umfassen neben den Originalbildern ebenfalls durch Filter verändertes Bildmaterial. Folgende
Änderungen sind auf die originalen Bilder angewendet worden: \textit{Skalierungsänderungen, Rotationen, Gammaanpassungen und Rauschen}.
Die Bildspezifikationen sind identisch zu denen aus der Kategorie \textit{Einfache Farben}. Die genaue Parametrisierung der Filter
ist dabei dem Anhang~\ref{sec:appendix_b} (\textit{Dokumentation der verwendeten Daten}) zu entnehmen.

\boldtext{Komplexe Bilder}\\
Die komplexen Bilder sind ähnlich zu der Kategorie \textit{Elementare Formen}. Diese beinhaltet jedoch nur eine Gruppe mit 21 verschieden
ähnlichen sowie nicht ähnlichen Fotos, welche die in Tabelle~\ref{tab:solution_images_specs} stehenden Spezifikationen aufweisen:
\begin{table}[H]
	\begin{center}
		\begin{tabular}{|l|c|}
			\mytoprule
			\centering\bfseries Eigenschaft & Wert(e)
			\\
			\hline
			\hline
			%---------------------------------------------------------------------------------------------------------------------	
			\textit{Kodierung} & JPEG, 100\% Qualität
			\\
			\hline
			%---------------------------------------------------------------------------------------------------------------------	
			\textit{Auflösung} & 1024x768px
			\\																				
			%---------------------------------------------------------------------------------------------------------------------
			\mybottomrule			
		\end{tabular}
		\caption{Spezifikationen \textit{Komplexe Bilder} (Eigene Darstellung)}
		\label{tab:solution_images_specs}
	\end{center}
\end{table}
Die Änderungen mittels Filter entsprechen den Anpassungen aus der Kategorie \textit{Elementare Formen}.

\subsection{Algorithmen}
\label{sec:solution_algorithms}
Alle vier in der \textit{Problemstellung} erwähnten Algorithmen arbeiten für die Berechnung eines robusten Hashes auf dem
strukturellen Inhalt des Bildmaterials. Die verschiedenen Vorgehensweisen bei der Extraktion der erforderlichen Merkmale sowie
der anschließende Vergleich der errechneten Hashwerte kann mit der nachfolgenden Tabelle~\ref{tab:solution_algorithms}
zusammengefasst werden:
\begin{table}[H]
	\begin{center}
		\begin{tabular}{|l|c|c|}
			\mytoprule
			\centering\bfseries Algorithmus & \bfseries Hashlänge & \bfseries Vergleichsverfahren
			\\
			\hline
			\hline
			%---------------------------------------------------------------------------------------------------------------------	
			DCT & 64 Bit & Hamming Distanz
			\\
			\hline
			%---------------------------------------------------------------------------------------------------------------------	
			RADISH & 320 Bit & Kreuzkorrelation
			\\
			\hline	
			%---------------------------------------------------------------------------------------------------------------------	
			Wavelet & 576 Bit & Hamming Distanz
			\\
			\hline	
			%---------------------------------------------------------------------------------------------------------------------	
			BMB & variable & Hamming Distanz
			\\																			
			%---------------------------------------------------------------------------------------------------------------------
			\mybottomrule			
		\end{tabular}
		\caption{Übersicht der Algorithmen (nach~\cite{ZAU10})}
		\label{tab:solution_algorithms}
	\end{center}
\end{table}	
\noindent
Gemeinsamkeiten in den internen Abläufen der vier unterschiedlichen Ansätze sind in der Umwandlung des Farbbilds zu einen Graustufenbild
sowie in der Verminderung der Auflösung des Bildes gegeben. Eine Ausnahme macht der Algorithmus \textit{RADISH}, der keine
Verkleinerung des Bildmaterials vorsieht.
\\
Die beiden genannten Vorbearbeitungsschritte dienen lediglich einer Verbesserung des Berechnungsaufwands. Durch die Umwandlung des Bilds in den
Graustufenbereich und somit der Reduzierung der drei Farbkanäle auf einen Farbkanal, werden keine für die Algorithmen erforderlichen
Strukturinformationen entfernt. Diese Tatsache besitzt ebenfalls für die Reduzierung der Gesamtbildinformationen Gültigkeit.

\boldtext{Discrete Cosine Transform (DCT)}\\
Neben den gemeinsamen Vorbearbeitungsschritten wird bei dem \textit{DCT}--Verfahren zusätzlich ein Box--Filter auf die Bilddaten angewendet.
Anschließend werden mit Hilfe der bereits umgestellten \textit{DCT} (\ref{eq:solution_dct}) die Spektralkomponenten des Bildes für die
Berechnung des Hashes ermittelt~\cite{DRA}.
\begin{equation}
	\label{eq:solution_dct}
	X[n] = \displaystyle\sum_{m=1}^{N-1} c[n,m] * x[m]
\end{equation}
\noindent
mit
\begin{equation*}
	c[n,m] = \sqrt{\frac{2}{N}} * \cos(\frac{(2m+1) * n\pi}{2N})
\end{equation*}
\noindent

\boldtext{Radial Hash Projections (RADISH)}\\
Für die Berechnung des Hashwertes wird anstelle der Spektralkomponenten des Bildes vorerst eine Radon--Projektion auf den Bilddaten
durchgeführt, die als Ergebnis für die Extraktion von Merkmalen dient. Der resultierende Hash wird mit Hilfe der errechneten
Spektralkomponenten des Charakteristikbildes errechnet.
\\
Ein Blurring sowie eine Gamma--Anpassung werden als zusätzlichen Vorbearbeitungsschritt eingeführt.

\boldtext{Marr/mexican hat Wavelet (Wavelet)}\\
Diesem Verfahren werden als weitere Vorbearbeitungsschritte ein Blurring sowie einer Histogramm basierter Ausgleich der Bilddaten
vorangestellt. Die Bestimmung der vom Bild abhängigen Merkmale und dem daraus folgenden Hashwert geschieht mittels eines
\textit{Laplacian of Gaussian}--Kernels für die Kantenerkennung.

\boldtext{Block Mean Value Based (BMB)}\\
Der Kern des Ansatzes basiert auf eine über das Bild projizierte uniforme Gitterstruktur. Je nach Vorgehensweise können die Gitterzellen
sich gegenseitig überlappen. Im Anschluss wird sowohl für jede Gitterzelle der durchschnittliche Grauwert als auch der
Gesamtdurchschnitt aller Grauwerte der Zellen errechnet. Aus der Kombination wird der finale Hashwert ermittelt.
\\
Das Verfahren bietet in der Theorie ebenfalls zwei rotationsvorbeugende Vorgehensweisen, die nicht in der Bibliothek \textit{pHash}
zur Verfügung stehen.